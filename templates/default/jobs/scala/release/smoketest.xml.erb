<?xml version='1.0' encoding='UTF-8'?>
<project>
<%= githubProject(
  repoUser:    @user,
  repoName:    "scala-dist-smoketest",
  repoRef:     @branch,
  description: "Run as part of the #{job("release/main")} flow." + %{ <br/> It runs the program in
    https://github.com/scala/scala-dist-smoketest/tree/${repo_ref} to make sure all JARs of the distribution
    contain classfiles. <br/> It downloads the archives for a Scala release from
    http://downloads.lightbend.com/scala/$version/index.html and makes sure the bundled scripts work.
   }.gsub(/^ {4}/, ''),
  nodeRestriction: "public",
  jvmVersion: @jvmVersionForBranch,
  jvmFlavor:  @jvmFlavorForBranch,
  params: [
    {:name => "version", :desc => "The version of scala that we should download the archives for (from http://downloads.lightbend.com/scala/$version/index.html); e.g., 2.10.3-RC2"},
    {:name => "sbtDistVersionOverride", :desc => "Passed to sbt, use instead of version (for experimentation only)."}
  ],
  jvmVersion: @branch == "2.11.x" ? 6 : 8,
  jvmFlavor:  @branch == "2.11.x" ? "oracle" : "openjdk")
%>
</project>
